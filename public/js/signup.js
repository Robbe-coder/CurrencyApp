"use strict";var signupBtn=document.querySelector(".button--submit");signupBtn.addEventListener("click",function(a){a.preventDefault();var b=document.querySelector("#email").value,c=document.querySelector("#name").value,d=document.querySelector("#password").value,e=document.querySelector("#password-repeat").value;d===e?fetch(settings.host+"/api/users/signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:b,name:c,password:d})}).then(function(a){return a.json()}).then(function(a){if(console.log(a),"success"===a.status){console.log("signup success"),document.querySelector("#name").value="",document.querySelector("#email").value="",document.querySelector("#password").value="",document.querySelector("#password-repeat").value="";var b=a.data.token;localStorage.setItem("token",b),window.location.href="home"}else if("error"===a.status){document.querySelector("#name").value="",document.querySelector("#email").value="",document.querySelector("#password").value="",document.querySelector("#password-repeat").value="";var c=document.querySelector(".form__error");c.innerText=a.error,c.style.display="flex"}}):console.log("Passwords don't match.")});